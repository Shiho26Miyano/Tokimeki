<div id="market-pulse-content" class="tab-pane fade" role="tabpanel" aria-labelledby="market-pulse-tab">
    <div class="container-fluid px-2 py-3">
        <!-- Compact Header -->
        <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
                <h4 class="mb-0 fw-bold">üß† Market Intelligence</h4>
                <small class="text-muted">Dual Agent Comparison</small>
            </div>
            <div class="d-flex gap-2 align-items-center">
                <button class="btn btn-sm btn-outline-secondary" id="market-pulse-refresh-btn" title="Refresh">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <span class="badge bg-success" id="market-pulse-status">‚óè Live</span>
            </div>
        </div>

        <!-- Dual Agent Cards - Compact Side by Side -->
        <div class="row g-2 mb-3">
            <!-- Compute Agent -->
            <div class="col-12 col-lg-6">
                <div class="card border-primary h-100">
                    <div class="card-header bg-primary text-white py-2">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong class="small">‚ö° Compute Agent</strong>
                                <br><small class="text-white-50">Real-time calculation</small>
                            </div>
                            <span class="badge bg-light text-dark" id="compute-agent-latency">--</span>
                        </div>
                    </div>
                    <div class="card-body p-3">
                        <!-- Stress Display -->
                        <div class="text-center mb-3">
                            <div class="h2 mb-1 fw-bold" id="compute-stress-display" style="color: #198754;">--</div>
                            <div class="badge bg-secondary" id="compute-regime">--</div>
                        </div>
                        
                        <!-- Compact Metrics Grid -->
                        <div class="row g-2 mb-2">
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Velocity</small>
                                    <strong id="compute-velocity">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Volume</small>
                                    <strong id="compute-volume">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Volatility</small>
                                    <strong id="compute-volatility">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Latency</small>
                                    <strong id="compute-latency">--</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learning Agent -->
            <div class="col-12 col-lg-6">
                <div class="card border-success h-100">
                    <div class="card-header bg-success text-white py-2">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <strong class="small">üß† Learning Agent</strong>
                                <br><small class="text-white-50">AI-enhanced insights</small>
                            </div>
                            <span class="badge bg-light text-dark" id="learning-agent-latency">--</span>
                        </div>
                    </div>
                    <div class="card-body p-3">
                        <!-- Stress Display -->
                        <div class="text-center mb-3">
                            <div class="h2 mb-1 fw-bold" id="learning-stress-display" style="color: #198754;">--</div>
                            <div class="badge bg-secondary" id="learning-regime">--</div>
                        </div>
                        
                        <!-- Prediction -->
                        <div class="mb-2" id="learning-prediction-box" style="display: none;">
                            <small class="text-muted d-block mb-1">Prediction (2h)</small>
                            <div id="learning-prediction" class="fw-bold"></div>
                        </div>
                        
                        <!-- Compact Metrics Grid -->
                        <div class="row g-2 mb-2">
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Velocity</small>
                                    <strong id="learning-velocity">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Volume</small>
                                    <strong id="learning-volume">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Volatility</small>
                                    <strong id="learning-volatility">--</strong>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="metric-box">
                                    <small class="text-muted d-block">Latency</small>
                                    <strong id="learning-latency">--</strong>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Anomalies & Insights -->
                        <div id="learning-anomalies-box" class="mt-2" style="display: none;">
                            <small class="text-warning"><i class="fas fa-exclamation-triangle"></i> <span id="anomalies-text"></span></small>
                        </div>
                        <div id="learning-insights-box" class="mt-1" style="display: none;">
                            <small class="text-info"><i class="fas fa-lightbulb"></i> <span id="insights-text"></span></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Charts - Compact -->
        <div class="row g-2 mb-3">
            <div class="col-12 col-md-6">
                <div class="card">
                    <div class="card-header py-2">
                        <h6 class="mb-0">Compute Agent Trend</h6>
                    </div>
                    <div class="card-body p-2">
                        <div style="height: 200px;">
                            <canvas id="compute-agent-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="card">
                    <div class="card-header py-2">
                        <h6 class="mb-0">Learning Agent Trend</h6>
                    </div>
                    <div class="card-body p-2">
                        <div style="height: 200px;">
                            <canvas id="learning-agent-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Comparison - Compact -->
        <div class="row g-2">
            <div class="col-12">
                <div class="card">
                    <div class="card-header py-2">
                        <h6 class="mb-0">Performance Comparison</h6>
                    </div>
                    <div class="card-body p-3">
                        <div id="performance-comparison">
                            <div class="text-center py-3">
                                <div class="spinner-border spinner-border-sm text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.metric-box {
    background: #f8f9fa;
    border-radius: 4px;
    padding: 8px;
    text-align: center;
}
.metric-box small {
    font-size: 0.7rem;
    line-height: 1.2;
}
.metric-box strong {
    font-size: 0.9rem;
    display: block;
    margin-top: 2px;
}
.card-header {
    font-size: 0.85rem;
}
.card-body {
    font-size: 0.9rem;
}
</style>
